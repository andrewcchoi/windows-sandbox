{
  "description": "Master variables configuration combining all settings from all modes (basic, intermediate, advanced, yolo)",
  "notes": [
    "This comprehensive template shows ALL possible configuration options across all modes",
    "Use mode-specific sections based on your requirements",
    "YOLO mode uses {{PLACEHOLDER}} syntax for maximum customization",
    "Copy relevant sections to your variables.json based on your mode"
  ],
  "build_args": {
    "basic": {
      "TZ": "UTC",
      "DEBIAN_FRONTEND": "noninteractive"
    },
    "intermediate": {
      "PYTHON_VERSION": "3.12",
      "NODE_VERSION": "20",
      "TZ": "UTC",
      "DEBIAN_FRONTEND": "noninteractive",
      "CLAUDE_CODE_VERSION": "latest"
    },
    "advanced": {
      "PYTHON_VERSION": "3.12",
      "NODE_VERSION": "20",
      "GO_VERSION": "1.22",
      "RUST_VERSION": "stable",
      "JAVA_VERSION": "17",
      "TZ": "UTC",
      "DEBIAN_FRONTEND": "noninteractive",
      "CLAUDE_CODE_VERSION": "latest"
    },
    "yolo": {
      "BASE_IMAGE": "{{BASE_IMAGE}}",
      "PYTHON_VERSION": "{{PYTHON_VERSION}}",
      "NODE_VERSION": "{{NODE_VERSION}}",
      "GO_VERSION": "{{GO_VERSION}}",
      "RUST_VERSION": "{{RUST_VERSION}}",
      "JAVA_VERSION": "{{JAVA_VERSION}}",
      "RUBY_VERSION": "{{RUBY_VERSION}}",
      "PHP_VERSION": "{{PHP_VERSION}}",
      "TZ": "{{TZ}}",
      "DEBIAN_FRONTEND": "noninteractive",
      "CLAUDE_CODE_VERSION": "{{CLAUDE_CODE_VERSION}}"
    }
  },
  "runtime_env": {
    "basic": {
      "NODE_ENV": "development",
      "PYTHONUNBUFFERED": "1",
      "PYTHONDONTWRITEBYTECODE": "1"
    },
    "intermediate": {
      "NODE_ENV": "development",
      "PYTHONUNBUFFERED": "1",
      "PYTHONDONTWRITEBYTECODE": "1",
      "FIREWALL_MODE": "permissive"
    },
    "advanced": {
      "NODE_ENV": "development",
      "PYTHONUNBUFFERED": "1",
      "PYTHONDONTWRITEBYTECODE": "1",
      "GOPATH": "/go",
      "GOBIN": "/go/bin",
      "RUST_BACKTRACE": "1",
      "JAVA_HOME": "/usr/lib/jvm/java-17-openjdk-amd64",
      "FIREWALL_MODE": "strict",
      "FIREWALL_LOG_LEVEL": "info"
    },
    "yolo": {
      "NODE_ENV": "{{NODE_ENV}}",
      "RAILS_ENV": "{{RAILS_ENV}}",
      "FLASK_ENV": "{{FLASK_ENV}}",
      "DJANGO_SETTINGS_MODULE": "{{DJANGO_SETTINGS_MODULE}}",
      "PYTHONUNBUFFERED": "1",
      "PYTHONDONTWRITEBYTECODE": "1",
      "PYTHONPATH": "{{PYTHONPATH}}",
      "GOPATH": "{{GOPATH}}",
      "GOBIN": "{{GOBIN}}",
      "GOCACHE": "{{GOCACHE}}",
      "RUST_BACKTRACE": "{{RUST_BACKTRACE}}",
      "CARGO_HOME": "{{CARGO_HOME}}",
      "JAVA_HOME": "{{JAVA_HOME}}",
      "MAVEN_HOME": "{{MAVEN_HOME}}",
      "GRADLE_HOME": "{{GRADLE_HOME}}",
      "GEM_HOME": "{{GEM_HOME}}",
      "BUNDLE_PATH": "{{BUNDLE_PATH}}",
      "FIREWALL_MODE": "{{FIREWALL_MODE}}",
      "FIREWALL_LOG_LEVEL": "{{FIREWALL_LOG_LEVEL}}",
      "LOG_LEVEL": "{{LOG_LEVEL}}",
      "DEBUG": "{{DEBUG}}"
    }
  },
  "compose_env": {
    "postgres": {
      "POSTGRES_USER": "sandbox_user",
      "POSTGRES_PASSWORD": "devpassword",
      "POSTGRES_DB": "sandbox_dev",
      "POSTGRES_HOST": "postgres",
      "POSTGRES_PORT": "5432"
    },
    "postgres_advanced": {
      "POSTGRES_SSLMODE": "prefer"
    },
    "mysql": {
      "MYSQL_ROOT_PASSWORD": "rootpassword",
      "MYSQL_DATABASE": "sandbox_dev",
      "MYSQL_USER": "sandbox_user",
      "MYSQL_PASSWORD": "devpassword",
      "MYSQL_HOST": "mysql",
      "MYSQL_PORT": "3306"
    },
    "mongodb": {
      "MONGO_INITDB_ROOT_USERNAME": "root",
      "MONGO_INITDB_ROOT_PASSWORD": "rootpassword",
      "MONGO_INITDB_DATABASE": "sandbox_dev",
      "MONGO_HOST": "mongodb",
      "MONGO_PORT": "27017"
    },
    "redis": {
      "REDIS_HOST": "redis",
      "REDIS_PORT": "6379",
      "REDIS_PASSWORD": "",
      "REDIS_DB": "0"
    },
    "rabbitmq": {
      "basic_intermediate": {
        "RABBITMQ_DEFAULT_USER": "guest",
        "RABBITMQ_DEFAULT_PASS": "guest"
      },
      "advanced": {
        "RABBITMQ_DEFAULT_USER": "admin",
        "RABBITMQ_DEFAULT_PASS": "change_this_password"
      },
      "common": {
        "RABBITMQ_HOST": "rabbitmq",
        "RABBITMQ_PORT": "5672",
        "RABBITMQ_MANAGEMENT_PORT": "15672"
      }
    },
    "kafka": {
      "KAFKA_BROKER": "kafka:9092",
      "KAFKA_ZOOKEEPER": "zookeeper:2181",
      "KAFKA_TOPIC": "events"
    },
    "elasticsearch": {
      "ELASTICSEARCH_HOST": "elasticsearch",
      "ELASTICSEARCH_PORT": "9200"
    },
    "memcached": {
      "MEMCACHED_HOST": "memcached",
      "MEMCACHED_PORT": "11211"
    }
  },
  "cloud_config": {
    "aws": {
      "AWS_REGION": "us-east-1",
      "AWS_PROFILE": "default"
    },
    "gcp": {
      "GCP_PROJECT_ID": "your-project-id",
      "GCP_REGION": "us-central1",
      "GOOGLE_APPLICATION_CREDENTIALS": "/run/secrets/gcp_key.json"
    },
    "azure": {
      "AZURE_SUBSCRIPTION_ID": "your-subscription-id",
      "AZURE_TENANT_ID": "your-tenant-id",
      "AZURE_RESOURCE_GROUP": "your-resource-group"
    },
    "digitalocean": {
      "DO_REGION": "nyc3"
    }
  },
  "derived_vars": {
    "_note": "URLs constructed from components. Application code handles URL encoding for special characters in credentials.",
    "DATABASE_URL": "postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}",
    "MONGODB_URI": "mongodb://${MONGO_INITDB_ROOT_USERNAME}:${MONGO_INITDB_ROOT_PASSWORD}@${MONGO_HOST}:${MONGO_PORT}/${MONGO_INITDB_DATABASE}",
    "REDIS_URL": "redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}",
    "RABBITMQ_URL": "amqp://${RABBITMQ_DEFAULT_USER}:${RABBITMQ_DEFAULT_PASS}@${RABBITMQ_HOST}:${RABBITMQ_PORT}"
  },
  "vs_code_inputs": {
    "basic": {},
    "intermediate": {
      "githubToken": {
        "type": "promptString",
        "description": "GitHub personal access token (for MCP GitHub server)",
        "password": true,
        "required": false
      },
      "dbPassword": {
        "type": "promptString",
        "description": "PostgreSQL password (optional override)",
        "password": true,
        "required": false
      }
    },
    "advanced": {
      "githubToken": {
        "type": "promptString",
        "description": "GitHub personal access token",
        "password": true,
        "required": true
      },
      "dbPassword": {
        "type": "promptString",
        "description": "PostgreSQL password",
        "password": true,
        "required": false,
        "default": "devpassword"
      },
      "openaiKey": {
        "type": "promptString",
        "description": "OpenAI API key (optional)",
        "password": true,
        "required": false
      },
      "anthropicKey": {
        "type": "promptString",
        "description": "Anthropic API key (optional)",
        "password": true,
        "required": false
      },
      "redisPassword": {
        "type": "promptString",
        "description": "Redis password (optional)",
        "password": true,
        "required": false
      }
    },
    "yolo": {
      "githubToken": {
        "type": "promptString",
        "description": "GitHub personal access token",
        "password": true,
        "required": false
      },
      "gitlabToken": {
        "type": "promptString",
        "description": "GitLab personal access token",
        "password": true,
        "required": false
      },
      "dbPassword": {
        "type": "promptString",
        "description": "Database password",
        "password": true,
        "required": false
      },
      "openaiKey": {
        "type": "promptString",
        "description": "OpenAI API key",
        "password": true,
        "required": false
      },
      "anthropicKey": {
        "type": "promptString",
        "description": "Anthropic API key",
        "password": true,
        "required": false
      },
      "stripeSecretKey": {
        "type": "promptString",
        "description": "Stripe secret key",
        "password": true,
        "required": false
      },
      "sendgridKey": {
        "type": "promptString",
        "description": "SendGrid API key",
        "password": true,
        "required": false
      },
      "sentryDsn": {
        "type": "promptString",
        "description": "Sentry DSN",
        "password": true,
        "required": false
      },
      "slackBotToken": {
        "type": "promptString",
        "description": "Slack bot token",
        "password": true,
        "required": false
      }
    }
  },
  "docker_secrets": [
    {
      "id": "aws_credentials",
      "description": "AWS credentials file",
      "mount_type": "file",
      "mount_path": "/root/.aws/credentials",
      "usage": "Mount from host ~/.aws directory or as Docker secret"
    },
    {
      "id": "gcp_key",
      "description": "GCP service account JSON key",
      "mount_type": "file",
      "mount_path": "/run/secrets/gcp_key.json",
      "usage": "Mount as Docker secret, never commit to Git"
    },
    {
      "id": "azure_credentials",
      "description": "Azure service principal credentials",
      "mount_type": "file",
      "mount_path": "/root/.azure/credentials",
      "usage": "Mount from host ~/.azure directory"
    },
    {
      "id": "npm_token",
      "description": "NPM registry authentication token",
      "mount_type": "secret",
      "mount_path": "/run/secrets/npm_token",
      "usage": "RUN --mount=type=secret,id=npm_token during npm install"
    },
    {
      "id": "pypi_token",
      "description": "PyPI authentication token",
      "mount_type": "secret",
      "mount_path": "/run/secrets/pypi_token",
      "usage": "RUN --mount=type=secret,id=pypi_token during uv add"
    },
    {
      "id": "gem_token",
      "description": "RubyGems authentication token",
      "mount_type": "secret",
      "mount_path": "/run/secrets/gem_token",
      "usage": "For private Ruby gem installation"
    },
    {
      "id": "ssh_key",
      "description": "SSH private key for Git operations",
      "mount_type": "ssh",
      "mount_path": "$SSH_AUTH_SOCK",
      "usage": "RUN --mount=type=ssh git clone"
    },
    {
      "id": "ssl_cert",
      "description": "SSL/TLS certificate",
      "mount_type": "file",
      "mount_path": "/run/secrets/ssl_cert",
      "usage": "For HTTPS configuration"
    },
    {
      "id": "ssl_key",
      "description": "SSL/TLS private key",
      "mount_type": "file",
      "mount_path": "/run/secrets/ssl_key",
      "usage": "For HTTPS configuration, never commit to Git"
    },
    {
      "id": "ca_cert",
      "description": "Certificate authority bundle",
      "mount_type": "file",
      "mount_path": "/run/secrets/ca_cert",
      "usage": "For custom CA certificates"
    }
  ],
  "resource_limits": {
    "basic": {},
    "intermediate": {},
    "advanced": {
      "cpu": "2.0",
      "memory": "4g",
      "swap": "2g"
    },
    "yolo": {
      "cpu": "{{CPU_LIMIT}}",
      "memory": "{{MEMORY_LIMIT}}",
      "swap": "{{SWAP_LIMIT}}",
      "pids": "{{PIDS_LIMIT}}"
    }
  },
  "application_vars": {
    "APP_URL": "http://localhost:3000",
    "API_URL": "http://localhost:8000",
    "FRONTEND_URL": "http://localhost:3000",
    "BACKEND_URL": "http://localhost:8000",
    "SESSION_SECRET": "change-this-to-random-string",
    "JWT_SECRET": "change-this-to-random-string",
    "ENCRYPTION_KEY": "change-this-to-random-key"
  },
  "monitoring": {
    "PROMETHEUS_PORT": "9090",
    "GRAFANA_ADMIN_PASSWORD": "admin",
    "JAEGER_AGENT_HOST": "jaeger",
    "SENTRY_DSN": "your-sentry-dsn"
  },
  "security_requirements": {
    "all_modes": [
      "Change ALL default passwords before production use",
      "Add .env files to .gitignore"
    ],
    "intermediate_and_up": [
      "Configure VS Code input variables for API keys (NEVER use ENV)"
    ],
    "advanced_and_yolo": [
      "Mount cloud credentials from host (~/.aws, ~/.config/gcloud, ~/.azure)",
      "Use Docker secret mounts for private registry tokens",
      "Enable strict/configurable firewall mode with custom allowlist",
      "Configure resource limits for containers",
      "Use SSL/TLS certificates for production services",
      "Rotate secrets regularly"
    ]
  },
  "mode_breakdown": {
    "basic": {
      "build_args": "2 variables (TZ, DEBIAN_FRONTEND)",
      "runtime_env": "3 variables (basic Python/Node settings)",
      "compose_env": "8 variables (postgres, redis)",
      "vs_code_inputs": "None - all hardcoded",
      "firewall": "No firewall - relies on hypervisor isolation",
      "notes": "Minimal configuration for quick start"
    },
    "intermediate": {
      "build_args": "5 variables (+ language versions, Claude Code version)",
      "runtime_env": "5 variables (+ firewall mode)",
      "compose_env": "10 variables (+ RabbitMQ)",
      "vs_code_inputs": "2 inputs (GitHub token, DB password)",
      "firewall": "Permissive firewall with logging",
      "optional_services": "MySQL, MongoDB, Memcached",
      "notes": "Standard development with customizable versions"
    },
    "advanced": {
      "build_args": "8 variables (+ Go, Rust, Java versions)",
      "runtime_env": "8 variables (+ multi-language paths)",
      "compose_env": "8 variables (stronger RabbitMQ password)",
      "cloud_config": "AWS, GCP, Azure configurations",
      "vs_code_inputs": "5 inputs (GitHub, DB, OpenAI, Anthropic, Redis)",
      "docker_secrets": "6 secret mounts (cloud, registry, SSL)",
      "resource_limits": "CPU, memory, swap limits",
      "firewall": "Strict firewall with explicit allowlist",
      "optional_services": "MySQL, MongoDB, Kafka, Elasticsearch",
      "notes": "Production-ready with comprehensive security"
    },
    "yolo": {
      "build_args": "11 variables (all languages + base image)",
      "runtime_env": "19 variables (all frameworks and languages)",
      "compose_env": "All databases and services with placeholders",
      "cloud_config": "AWS, GCP, Azure, DigitalOcean",
      "vs_code_inputs": "9 inputs (all major API providers)",
      "docker_secrets": "10 secret mounts (comprehensive)",
      "resource_limits": "All limits with placeholders",
      "application_vars": "URLs, secrets, encryption keys",
      "monitoring": "Prometheus, Grafana, Jaeger, Sentry",
      "firewall": "Configurable with custom settings",
      "notes": "Maximum flexibility - all options available"
    }
  }
}
