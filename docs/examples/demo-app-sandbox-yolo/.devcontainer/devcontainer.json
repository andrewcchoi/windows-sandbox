{
  "name": "demo-app-sandbox-yolo",
  "dockerComposeFile": "../docker-compose.yml",
  "service": "app",
  "workspaceFolder": "/workspace",
  "remoteUser": "node",
  "customizations": {
    "vscode": {
      "extensions": [
        // Python Development (Comprehensive)
        "ms-python.python",
        "ms-python.vscode-pylance",
        "ms-python.black-formatter",
        "ms-python.isort",
        "ms-python.flake8",
        "charliermarsh.ruff",

        // JavaScript/TypeScript Development
        "dbaeumer.vscode-eslint",
        "esbenp.prettier-vscode",
        "mgmcdermott.vscode-language-babel",
        "dsznajder.es7-react-js-snippets",

        // Database Tools
        "mtxr.sqltools",
        "mtxr.sqltools-driver-pg",
        "cweijan.vscode-database-client2",

        // Docker & Containers
        "ms-azuretools.vscode-docker",
        "ms-vscode-remote.remote-containers",

        // Git & Version Control
        "eamodio.gitlens",
        "mhutchie.git-graph",
        "donjayamanne.githistory",

        // API & REST
        "humao.rest-client",
        "rangav.vscode-thunder-client",

        // Testing & Quality
        "hbenl.vscode-test-explorer",
        "littlefoxteam.vscode-python-test-adapter",
        "orta.vscode-jest",

        // Markdown & Documentation
        "yzhang.markdown-all-in-one",
        "davidanson.vscode-markdownlint",

        // Code Quality & Analysis
        "sonarsource.sonarlint-vscode",
        "visualstudioexptteam.vscodeintellicode",
        "visualstudioexptteam.intellicode-api-usage-examples",

        // Utilities
        "editorconfig.editorconfig",
        "gruntfuggly.todo-tree",
        "wayou.vscode-todo-highlight",
        "streetsidesoftware.code-spell-checker",

        // Performance & Debugging
        "ms-vscode.vscode-js-profile-flame",
        "msjsdiag.vscode-react-native"
      ],
      "settings": {
        // Python Configuration
        "python.defaultInterpreterPath": "/usr/local/bin/python",
        "python.linting.enabled": true,
        "python.linting.pylintEnabled": false,
        "python.linting.flake8Enabled": true,
        "python.linting.flake8Args": [
          "--max-line-length=88",
          "--extend-ignore=E203,W503"
        ],
        "python.formatting.provider": "black",
        "python.analysis.typeCheckingMode": "basic",
        "python.analysis.autoImportCompletions": true,
        "python.testing.pytestEnabled": true,
        "python.testing.unittestEnabled": false,
        "python.testing.nosetestsEnabled": false,

        // JavaScript/React Configuration
        "javascript.updateImportsOnFileMove.enabled": "always",
        "typescript.updateImportsOnFileMove.enabled": "always",
        "javascript.suggest.autoImports": true,
        "typescript.suggest.autoImports": true,

        // Editor Configuration
        "editor.formatOnSave": true,
        "editor.formatOnPaste": true,
        "editor.codeActionsOnSave": {
          "source.organizeImports": "explicit",
          "source.fixAll.eslint": "explicit"
        },
        "editor.rulers": [80, 120],
        "editor.bracketPairColorization.enabled": true,
        "editor.guides.bracketPairs": true,
        "editor.inlineSuggest.enabled": true,

        // File Associations
        "[python]": {
          "editor.defaultFormatter": "ms-python.black-formatter",
          "editor.tabSize": 4
        },
        "[javascript]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode",
          "editor.tabSize": 2
        },
        "[javascriptreact]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode",
          "editor.tabSize": 2
        },
        "[json]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        },
        "[markdown]": {
          "editor.defaultFormatter": "yzhang.markdown-all-in-one"
        },

        // Git Configuration
        "git.autofetch": true,
        "git.confirmSync": false,
        "git.enableSmartCommit": true,
        "gitlens.codeLens.enabled": true,

        // Files Configuration
        "files.exclude": {
          "**/__pycache__": true,
          "**/.pytest_cache": true,
          "**/node_modules": true,
          "**/.coverage": true,
          "**/dist": true
        },
        "files.watcherExclude": {
          "**/__pycache__": true,
          "**/node_modules": true,
          "**/dist": true
        },
        "files.trimTrailingWhitespace": true,
        "files.insertFinalNewline": true,

        // Terminal Configuration
        "terminal.integrated.defaultProfile.linux": "bash",
        "terminal.integrated.fontSize": 14,

        // Testing Configuration
        "python.testing.pytestArgs": ["backend/tests"],

        // SQLTools Configuration
        "sqltools.connections": [
          {
            "name": "PostgreSQL (Dev)",
            "driver": "PostgreSQL",
            "server": "postgres",
            "port": 5432,
            "database": "sandbox_dev",
            "username": "sandbox_user",
            "password": "devpassword"
          }
        ],

        // TODO Highlight Configuration
        "todohighlight.keywords": [
          {
            "text": "TODO:",
            "color": "#ffffff",
            "backgroundColor": "#ffbd2a",
            "overviewRulerColor": "#ffbd2a"
          },
          {
            "text": "FIXME:",
            "color": "#ffffff",
            "backgroundColor": "#f06292",
            "overviewRulerColor": "#f06292"
          }
        ]
      }
    }
  },
  "postStartCommand": "sudo FIREWALL_MODE=\"$FIREWALL_MODE\" /usr/local/bin/init-firewall.sh",
  "postCreateCommand": ".devcontainer/setup-claude-credentials.sh && cd backend && uv add -r requirements.txt && uv add -r requirements-dev.txt && cd ../frontend && npm install",
  "forwardPorts": [8000, 5173, 5432, 6379, 9229],
  "portsAttributes": {
    "8000": {
      "label": "FastAPI Backend",
      "onAutoForward": "notify",
      "protocol": "http"
    },
    "5173": {
      "label": "Vite Frontend",
      "onAutoForward": "openBrowser",
      "protocol": "http"
    },
    "5432": {
      "label": "PostgreSQL Database",
      "onAutoForward": "silent",
      "protocol": "tcp"
    },
    "6379": {
      "label": "Redis Cache",
      "onAutoForward": "silent",
      "protocol": "tcp"
    },
    "9229": {
      "label": "Node Debugger",
      "onAutoForward": "silent",
      "protocol": "tcp"
    }
  },
  "features": {
    "ghcr.io/devcontainers/features/common-utils:2": {
      "installZsh": true,
      "installOhMyZsh": true,
      "installOhMyZshConfig": true,
      "upgradePackages": true,
      "username": "node",
      "userUid": "1000",
      "userGid": "1000"
    },
    "ghcr.io/devcontainers/features/git:1": {
      "version": "latest",
      "ppa": true
    }
  },
  "mounts": [
    "source=${localWorkspaceFolder}/.devcontainer/.bashrc,target=/home/node/.bashrc_extra,type=bind",
    "source=${localWorkspaceFolder}/.devcontainer/.editorconfig,target=/workspace/.editorconfig,type=bind"
  ],
  "containerEnv": {
    "PYTHONUNBUFFERED": "1",
    "NODE_ENV": "development",
    "DEBUG": "*"
  }
}
