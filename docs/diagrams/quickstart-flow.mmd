flowchart TD
    Start([User runs /quickstart]) --> Q1{Project Type?}

    Q1 -->|Python/Node| Base[Base Dockerfile<br/>Python 3.12 + Node 20]
    Q1 -->|Go| GoPartial[Base + Go 1.22]
    Q1 -->|Ruby| RubyPartial[Base + Ruby 3.3]
    Q1 -->|Rust| RustPartial[Base + Rust]
    Q1 -->|Java| JavaPartial[Base + OpenJDK 21]
    Q1 -->|C++ Clang| ClangPartial[Base + Clang 17]
    Q1 -->|C++ GCC| GCCPartial[Base + GCC]
    Q1 -->|PHP| PHPPartial[Base + PHP 8.3]
    Q1 -->|PostgreSQL| PGPartial[Base + PostgreSQL client]

    Base --> Q2{Network Restrictions?}
    GoPartial --> Q2
    RubyPartial --> Q2
    RustPartial --> Q2
    JavaPartial --> Q2
    ClangPartial --> Q2
    GCCPartial --> Q2
    PHPPartial --> Q2
    PGPartial --> Q2

    Q2 -->|No| NoFW[Container isolation only]
    Q2 -->|Yes| Q3{Domain Categories?}

    Q3 --> Domains[Select from:<br/>npm, pypi, github, docker,<br/>ubuntu, debian, etc.]
    Domains --> Custom{Custom domains?}
    Custom -->|Yes| AddCustom[Add custom domains]
    Custom -->|No| FW[Generate init-firewall.sh]
    AddCustom --> FW

    NoFW --> Generate[Generate DevContainer files:<br/>- Dockerfile<br/>- devcontainer.json<br/>- docker-compose.yml]
    FW --> Generate

    Generate --> Files[.devcontainer directory created]
    Files --> Done([Ready to open in VS Code])

    style Start fill:#90EE90,stroke:#333,stroke-width:2px
    style Done fill:#90EE90,stroke:#333,stroke-width:2px
    style Q1 fill:#FFE4B5,stroke:#333,stroke-width:2px
    style Q2 fill:#FFE4B5,stroke:#333,stroke-width:2px
    style Q3 fill:#FFE4B5,stroke:#333,stroke-width:2px
    style Custom fill:#FFE4B5,stroke:#333,stroke-width:2px
    style Generate fill:#87CEEB,stroke:#333,stroke-width:2px
